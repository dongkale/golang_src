{{template "include/base.html" .}}

{{define "body"}}

    <!-- 컨텐츠 영역 -->
    <div class="contentWrap">
      <!-- top start -->
      {{template "include/top.html" .}}
      <!-- top end -->
        <!-- 페이지 영역 -->
        <div class="content">
          <h2>신규 채용 등록</h2>
          <form id="regForm" name="regForm" method="post">
            <input type="hidden" id="empl_typ_cd" name="empl_typ_cd" value="01">
            <input type="hidden" id="sex" name="sex" value="A">
            <input type="hidden" id="ans_lmt_tm_cd" name="ans_lmt_tm_cd" value="01">
            <input type="hidden" id="acpt_prid_cd" name="acpt_prid_cd" value="01">
            <input type="hidden" id="rec_max_tm_sec" name="rec_max_tm_sec" value="60">
            <div class="recruit">
            <dl class="recruitInfo">
              <dt>채용 정보</dt>
                <dd>º 채용 공고에 대한 기본 정보들을 모두 입력해주세요.</dd>
                <dd>º 채용 공고 등록 후에는 수정이 불가능한 정보가 포함되어 있으니 주의하여 입력해주시기 바랍니다.</dd>
                <dd>º 부적절한 내용이 포함되어 있을 경우 사전 경고 없이 변경 혹은 삭제될 수 있습니다.</dd>
            </dl>
            <div class="recruitForm">
              <div class="row">
                <p class="tit">공고 제목 * <span class="validationMessage recrut_title_message"></span></p>
                <p class="input"><input type="text" name="recrut_title" class="title" id="recrut_title" maxlength="30" placeholder="30자 이내의 공고 제목을 입력해주세요."></p>
                <p class="count">(<span><em id="byteTitle">30</em>/30</span>)</p>
              </div>
              <div class="row col2">
                <div class="col">
                  <p class="tit">고용 형태* <span class="validationMessage empl_typ_cd_message"></span></p>
                  <p class="input custom01">
                    <input type="radio" name="empl_typ" class="custom" id="empl_typ_01" value="01" checked="checked"><label for="empl_typ_01">정규직</label>
                    <!--<input type="radio" name="empl_typ" class="custom" id="empl_typ_05" value="05"><label for="empl_typ_05">아르바이트</label>-->
                  </p>
                  <ul class="info">
                    <li>º 고용 형태는 채용 공고 등록 후에는 수정이 불가능합니다.</li>
                  </ul>
                </div>
                <div class="col">
                  <p class="tit">직무 선택* <span class="validationMessage job_grp_cd_message"></span></p>
                  <p class="input jobgrp">
                    <em1>
                    <select name="up_job_grp_cd" id="up_job_grp_cd">
                      <option value="" disabled selected>직군을 선택해주세요.</option>
                      {{range .JobGrpList}}
                      <option value="{{.JobGrpCd}}">{{.JobGrpNm}}</option>
                      {{end}}
                    </select>
                    </em1>
                    <em2>
                    <select name="job_grp_cd" id="job_grp_cd">
                      <option value="">직무를 선택해주세요.</option>
                    </select>
                    </em2>
                  </p>
                  <ul class="info">
                    <li>º 직무는 채용 공고 등록 후에는 수정이 불가능합니다.</li>
                  </ul>
                </div>
              </div>
              <div class="row col2">
                <div class="col">
                  <p class="tit">성별 * <span class="validationMessage sex_message"></span></p>
                  <p class="input custom02">
                    <input type="radio" name="gender" class="custom" checked id="gender_a" value="A"><label for="gender_a">무관</label>
                    <input type="radio" name="gender" class="custom" id="gender_m" value="M"><label for="gender_m">남자</label>
                    <input type="radio" name="gender" class="custom" id="gender_f" value="F"><label for="gender_f">여자</label>
                  </p>
                </div>
                <div class="col">
                  <p class="tit">모집 인원 * <span class="validationMessage recrut_cnt_message"></span></p>
                  <p class="input">
                    <input type="text" name="recrut_cnt" id="recrut_cnt" maxlength="3" class="w350" numberOnly placeholder="명">
                  </p>
                </div>
              </div>
              <div class="row">
                <p class="tit">역할 * <span class="validationMessage rol_message"></span></p>
                <p class="count">(<span><em id="byteRol">500</em>/500</span>)</p>
                <p class="input"><textarea name="rol" id="rol" cols="30" rows="10" maxlength="500" placeholder="500자 이내로 작성해주세요."></textarea></p>
              </div>
              <div class="row">
                <p class="tit">지원 자격 및 우대사항 * <span class="validationMessage aply_qufct_message"></span></p>
                <p class="count">(<span><em id="byteQufct">500</em>/500</span>)</p>
                <p class="input"><textarea name="aply_qufct" id="aply_qufct" cols="30" rows="10" maxlength="500" placeholder="500자 이내로 작성해주세요."></textarea></p>
              </div>
              <div class="row">
                <p class="tit">채용 절차 진행 시 발송 메시지 * <span class="validationMessage prgs_msg_message"></span></p>
                <p class="count">(<span><em id="bytePrgs">100</em>/100</span>)</p>
                <p class="input"><textarea name="prgs_msg" id="prgs_msg" cols="30" rows="10" maxlength="100" placeholder="예) 귀하의 면접을 희망합니다. 이력서, 포트폴리오, 자기소개서를 ziggam@qrate.co.kr로 보내주시기 바랍니다."></textarea></p>
                <ul class="info">
                  <li>º 합격 지원자에게 자동으로 발송되는 메시지입니다.</li>
                  <li>º 채용 절차 진행 시 필요한 서류와 송부 받을 메일 주소를 포함해 입력해주세요.</li>
                </ul>
              </div>
              <div class="row col2">
                <div class="col">
                  <p class="tit">답변 시간 제한 선택 * <span class="validationMessage ans_lmt_tm_cd_message"></span></p>
                  <p class="input custom02">
                    <input type="radio" name="ans_lmt_tm" class="custom" checked id="ans_lmt_01" value="01"><label for="ans_lmt_01">30분</label>
                    <input type="radio" name="ans_lmt_tm" class="custom" id="ans_lmt_02" value="02"><label for="ans_lmt_02">60분</label>
                    <input type="radio" name="ans_lmt_tm" class="custom" id="ans_lmt_03" value="99"><label for="ans_lmt_03">없음</label>
                  </p>
                  <ul class="info st02">
                    <li>º 답변 시간은 지원자가 ‘지원하기’를 누른 시점부터 최종 지원 종료까지 걸린 시간입니다.</li>
                    <li>º 답변 시간 제한을 설정하시면 모집 기간은 수정이 불가능합니다.</li>
                  </ul>
                </div>
                <div class="col">
                  <p class="tit">접수 기간 * <span class="validationMessage acpt_prid_cd_message"></span></p>
                  <p class="input custom02">
                    <input type="radio" name="acpt_prid" class="custom" checked id="acpt_prid_01" value="01"><label for="acpt_prid_01">7일</label>
                    <input type="radio" name="acpt_prid" class="custom" id="acpt_prid_02" value="02"><label for="acpt_prid_02">1개월</label>
                    <input type="radio" name="acpt_prid" class="custom" id="acpt_prid_03" value="03"><label for="acpt_prid_03">2개월</label>
                    <input type="radio" name="acpt_prid" class="custom" id="acpt_prid_04" value="04"><label for="acpt_prid_04">3개월</label>
                  </p>
                  <ul class="info st02">
                    <li>º 접수 기간은 공고가 등록된 날부터 시작됩니다.</li>
                    <li>º 접수 기간은 채용 공고 등록 후에는 수정이 불가능합니다.</li>
                  </ul>
                </div>
              </div>
              {{if eq "danal" .SMemId}}
              <div class="row col2">
                <div class="col">
                  <p class="tit">영상 최대 촬영시간 선택 *</p>
                  <p class="input custom02">
                    <input type="radio" name="rec_max_tm" class="custom" checked id="rec_max_tm_01" value="60"><label for="rec_max_tm_01">1분</label>
                    <input type="radio" name="rec_max_tm" class="custom" id="rec_max_tm_02" value="300"><label for="rec_max_tm_02">5분</label>
                  </p>
                  <ul class="info st02">
                    <li>º 답변 영상 최대 촬영시간을 의미합니다.</li>
                    <li>º 답변 영상 촬영시 휴대폰 전면 카메사 사용을 권장합니다.</li>
                  </ul>
                </div>
              </div>  
              {{end}}            
            </div>
          </div>
          <h2>채용 질문</h2>
          <div class="recruit">
            <dl class="recruitInfo">
              <dt>채용 질문</dt>
              <dd>º 질문은 최소 1개, 최대 5개까지 등록 가능합니다.</dd>
              <!--<dd>º 첫 번째 자기소개 질문은 기본으로 적용되며 수정이 불가능합니다.</dd>-->
              <dd>º 부적절한 내용이 포함되어 있을 경우 사전 경고 없이 변경 혹은 삭제될 수 있습니다.</dd>
            </dl>
            <div class="recruitForm st02">
              <div class="row">
                <p class="tit">질문 1 <span class="validationMessage qst_title1_message"></span></p>
                <p class="input"><input type="text" name="qst_title1" id="qst_title1" maxlength="50" placeholder="직무 수행에 적합한지 알아볼 수 있는 질문을 해보세요."></p>
                <p class="count">(<span><em id="byteQstSn1">50</em>/50</span>)</p>
              </div>
              <div class="row">
                <p class="tit">질문 2 <span class="validationMessage qst_title2_message"></span></p>
                <p class="input"><input type="text" name="qst_title[]" id="qst_title2" maxlength="50" placeholder="직무 수행에 적합한지 알아볼 수 있는 질문을 해보세요."></p>
                <p class="count">(<span><em id="byteQstSn2">50</em>/50</span>)</p>
              </div>
              <div class="row">
                <p class="tit">질문 3 <span class="validationMessage qst_title3_message"></span></p>
                <p class="input"><input type="text" name="qst_title[]" id="qst_title3" maxlength="50" placeholder="직무 수행에 적합한지 알아볼 수 있는 질문을 해보세요."></p>
                <p class="count">(<span><em id="byteQstSn3">50</em>/50</span>)</p>
              </div>
              <div class="row">
                <p class="tit">질문 4 <span class="validationMessage qst_title4_message"></span></p>
                <p class="input"><input type="text" name="qst_title[]" id="qst_title4" maxlength="50" placeholder="직무 수행에 적합한지 알아볼 수 있는 질문을 해보세요."></p>
                <p class="count">(<span><em id="byteQstSn4">50</em>/50</span>)</p>
              </div>
              <div class="row">
                <p class="tit">질문 5 <span class="validationMessage qst_title5_message"></span></p>
                <p class="input"><input type="text" name="qst_title[]" id="qst_title5" maxlength="50" placeholder="직무 수행에 적합한지 알아볼 수 있는 질문을 해보세요."></p>
                <p class="count">(<span><em id="byteQstSn5">50</em>/50</span>)</p>
              </div>
            </div>
            <p class="btnSec">
              <a href="javascript:void(0);" id="btn_reg">"직감"에 신규 채용 공고 등록하기</a>
            </p>
          </div>
        </form>
        </div>
        <!-- // 페이지 영역 -->
      </div>
      <!-- 컨텐츠영역 -->

    <!-- 일반팝업_버튼2개 -->
    <div class="popupWrap jobGrp" id="empl_chnage">
        <div class="popup">
            <div class="popContent">
            <p>고용형태를 변경하시면 직무가 변경됩니다.<br/>
                정말 변경하시겠어요?</p>
            </div>
            <div class="popBtn">
            <a href="javascript:void(0);" id="btn_job_cancel">취소</a>
            <a href="javascript:void(0);" id="btn_job_confirm">확인</a>
            </div>
        </div>
        <span class="cover"></span>
    </div>
    <!-- // 일반팝업_버튼2개 -->      

    <script type="text/javascript">

        // Form Validation Check
        $(document).ready(function() {
            $("#regForm").validate(validOption);
        });

        // 채용등록 Validation
        var validOption = {
            onkeyup: false
            ,onclick: false
            ,onfocusout: function(element) {		// 포커스 아웃 시 동작
                if($(element).valid()){				// 체크 통과
                    var id = $(element).attr("id");	
                    $("."+id+"_message").text("");	// message box clear
                }
            }
            ,onfocusin: function(element) {			// 포커스 인 시 동작
                var id = $(element).attr("id");
                resetInput(id);
            }
            ,rules: {
                recrut_title : {
                    required: true, 
                },
                job_grp_cd : {
                    required: true, 
                },
                recrut_cnt : {
                    required: true, 
                },
                rol : {
                    required: true, 
                },
                aply_qufct : {
                    required: true, 
                },
                prgs_msg : {
                    required: true, 
                },
                qst_title1 : {
                    required: true, 
                },
            }
            ,errorPlacement: function(error, element){		
                var id = element.attr("id");
                //console.log("err_id :"+id);
                $("."+id+"_message").text(error.text());
            }
            ,messages: {
                recrut_title: {
                    required: "공고 제목을 입력해주세요."
                },
                job_grp_cd: {
                    required: "직무를 선택해주세요."
                },
                recrut_cnt: {
                    required: "모집 인원을 입력해주세요."
                },
                rol: {
                    required: "채용 공고의 직무 역할에 대한 내용을 입력해주세요."
                },
                aply_qufct: {
                    required: "채용 공고의 직무 역할에 대한 내용을 입력해주세요."
                },
                prgs_msg: {
                    required: "채용 합격 시 발송되는 메시지를 입력해주세요."
                },
                qst_title1: {
                    required: "첫번째 질문을 입력해주세요."
                },
            }
            ,success: function(element){
                var str = $(element).attr("id");
                var id = str.substring(0,str.length-6);
            }
        }

        // input box reset
        var resetInput = function(id){
            $("."+id+"_message").text(""); // message box clear
        }

        // 채용공고등록
        $(document).off("click", "#btn_reg").on("click", "#btn_reg", function(){
            if($("#regForm").valid()){

                // 질문 공란 처리
                var empty2 = $("#qst_title2").val().trim().length;
                var empty3 = $("#qst_title3").val().trim().length;
                var empty4 = $("#qst_title4").val().trim().length;
                var empty5 = $("#qst_title5").val().trim().length;

                var chk_val2 = 0;
                var chk_val3 = 0;
                var chk_val4 = 0;
                var chk_val5 = 0;

                if (empty2 > 0) {
                    chk_val2 = 0;
                } else {
                    chk_val2 = 2;
                }
                if (empty3 > 0) {
                    chk_val3 = 0;
                } else {
                    chk_val3 = 3;
                }
                if (empty4 > 0) {
                    chk_val4 = 0;
                } else {
                    chk_val4 = 4;
                } 
                if (empty5 > 0) {
                    chk_val5 = 0;
                } else {
                    chk_val5 = 5;
                }

                var sum_val = chk_val2 + chk_val3 + chk_val4 + chk_val5;
                if (sum_val == 14 || sum_val == 12 || sum_val == 9 || sum_val == 5 || sum_val == 0) {
                    //console.log("pass : "+sum_val);
                } else {
                    //console.log("fail : "+sum_val);
                    if (sum_val == 11) { //3번만 기입 할 경우
                        $(".qst_title2_message").text("질문은 순서에 맞게 채워주세요.");
                        return;
                    } else if (sum_val == 10) { //4번만 기입 할 경우
                        $(".qst_title2_message").text("질문은 순서에 맞게 채워주세요.");
                        return;
                    } else if (sum_val == 8) { //4번만 기입 할 경우
                        $(".qst_title3_message").text("질문은 순서에 맞게 채워주세요.");
                        return;
                    } else if (sum_val == 6) { //3,5번만 기입 할 경우
                        $(".qst_title2_message").text("질문은 순서에 맞게 채워주세요.");
                        return;
                    /*    
                    } else if (sum_val == 5) { //4,5번만 기입 할 경우
                        $(".qst_title2_message").text("질문은 순서에 맞게 채워주세요.");
                        return;
                    } else if (sum_val == 9) { //5번만 기입할 경우
                        $(".qst_title2_message").text("질문은 순서에 맞게 채워주세요.");
                        return;
                    */
                    } else if (sum_val == 8) { //2,4,번만 기입할 경우
                        $(".qst_title2_message").text("질문은 순서에 맞게 채워주세요.");
                        return;
                    } else if (sum_val == 7) { //2,5번만 기입할 경우
                        $(".qst_title3_message").text("질문은 순서에 맞게 채워주세요.");
                        return;
                    } else if (sum_val == 4) { //2,3,5번만 기입할 경우
                        $(".qst_title4_message").text("질문은 순서에 맞게 채워주세요.");
                        return;
                    } else if (sum_val == 3) { //2,4,5번만 기입할 경우
                        $(".qst_title3_message").text("질문은 순서에 맞게 채워주세요.");
                        return;
                    } else if (sum_val == 2) { //3,4,5번만 기입할 경우
                        $(".qst_title2_message").text("질문은 순서에 맞게 채워주세요.");
                        return;
                    }
                }    
                //$(".loading").attr("style", "display:''");

                var recrut_title = $("#recrut_title").val().replace(/'/gi,"`"); //채용제목
                var empl_typ_cd = $("#empl_typ_cd").val(); //고용형태
                var job_grp_cd = $("select[id=job_grp_cd] option:selected").val(); //직무
                var sex = $("#sex").val(); //성별
                var recrut_cnt = $("#recrut_cnt").val(); //모집인원
                var rol = $("#rol").val().replace(/'/gi,"`"); //역할
                var aply_qufct = $("#aply_qufct").val().replace(/'/gi,"`"); //지원자격 및 우대사항
                var prgs_msg = $("#prgs_msg").val().replace(/'/gi,"`"); //진행메세지
                var ans_lmt_tm_cd = $("#ans_lmt_tm_cd").val(); //답변시간제한
                var acpt_prid_cd = $("#acpt_prid_cd").val(); //접수기간
                var rec_max_tm_sec = $("#rec_max_tm_sec").val(); //영상최대촬영시간

                var qst_title_arr = []; //질문배열
                var fixVal = $("#qst_title1").val().replace(/,/gi,"，").replace(/'/gi,"`");
                $("input[name='qst_title[]']").each(function(i) {
                    var thisVal = $(this).val().trim().replace(/,/gi,"，").replace(/'/gi,"`");
                    if(thisVal != ""){
                        qst_title_arr.push(thisVal);
                    }
                });	
                if (chk_val2 == 2){
                    qst_title_arr = fixVal;
                } else {
                    qst_title_arr = fixVal+","+qst_title_arr;
                }
                    
                /*
                console.log("채용제목 : "+recrut_title);    
                console.log("고용형태 : "+empl_typ_cd);    
                console.log("직무 : "+job_grp_cd);    
                console.log("성별 : "+sex);    
                console.log("모집인원 : "+recrut_cnt);    
                console.log("역할 : "+rol);    
                console.log("지원자격 및 우대사항 : "+aply_qufct);    
                console.log("진행메세지 : "+prgs_msg);    
                console.log("답변시간제한 : "+ans_lmt_tm_cd);    
                console.log("접수기간 : "+acpt_prid_cd);    
                console.log("영상최대촬영시간 : "+rec_max_tm_sec);    
                */
                
                var formData = new FormData();
				formData.append("recrut_title", recrut_title);
				formData.append("empl_typ_cd", empl_typ_cd);
				formData.append("job_grp_cd", job_grp_cd);
				formData.append("sex", sex);
				formData.append("recrut_cnt", recrut_cnt);
				formData.append("rol", rol);
				formData.append("aply_qufct", aply_qufct);
				formData.append("prgs_msg", prgs_msg);
				formData.append("ans_lmt_tm_cd", ans_lmt_tm_cd);
				formData.append("acpt_prid_cd", acpt_prid_cd);
				formData.append("rec_max_tm", rec_max_tm_sec);
				formData.append("qst_title_arr", qst_title_arr);

                $.ajax({
					cache : false,
					url : '/recruit/post/insert',
					data : formData,
					type : 'POST',
					processData: false,
					contentType: false,
					dataType : "json",
                    error : function(e) {
                        //console.log("error" + JSON.stringify(e));
                        console.log("error : "+e);
                        $(".loading").attr("style", "display:none");
                    },
                    success : function(rep) {
                        var rtnCd = rep.RtnCd
                        var rtnMsg = rep.RtnMsg
                        if(rtnCd == 1){
                            console.log("등록 완료");
                            window.location.href="/recruit/post/list";
                        } else {
                            console.log("등록 실패 : "+rtnMsg);
                            $(".loading").attr("style", "display:none");
                        }
                    }
                });
            }
        });        

        // 고용형태 선택시 직무 변경
        $(document).off("click","input:radio[name='empl_typ']").on("click","input:radio[name='empl_typ']",function(e) {
            var empl_typ_cd = $(":radio[name='empl_typ']:checked").val();
            $("#empl_typ_cd").val(empl_typ_cd);
            var up_job_grp_cd = "";

            // 직무 설정
            jobGrp1(empl_typ_cd, up_job_grp_cd);
            $(".input.jobgrp").find("em2").children().remove();
            var html = "";
            html += "<select name=\"job_grp_cd\" id=\"job_grp_cd\">";
            html += "<option value=\"\" disabled selected>직무를 선택해주세요.</option>";
            html += "</select>";
            $(".input.jobgrp").find("em2").append(html);            
        });  

        // 직군 선택시
        $(document).off("change","#up_job_grp_cd").on("change","#up_job_grp_cd",function() {
            var empl_cd = $(":radio[name='empl_typ']:checked").val();
            var pUpJobGrpCd = $('select[id=up_job_grp_cd] option:selected').val();
            // 직무생성
            jobGrp2(empl_cd, pUpJobGrpCd);
        })	    

        // 직군 생성
        var jobGrp1 = function (empl_typ_cd, up_job_grp_cd) {
            $.ajax({
                type: "POST",
                url: "/common/jobgrp",
                data:{
                    empl_typ_cd : empl_typ_cd,
                    up_job_grp_cd : up_job_grp_cd
                },
                dataType: "json",
                success: function(args){
                    if(args.RtnJobGrpListData.length > 0){
                        $(".input.jobgrp").find("em1").children().remove();
                        var html = "";
                        html += "<select name=\"up_job_grp_cd\" id=\"up_job_grp_cd\">";
                        html += "<option value=\"\" disabled selected>직군을 선택해주세요.</option>";
                        $.each(args.RtnJobGrpListData,function(e) {
                            var grp = args.RtnJobGrpListData[e];
                            html += "<option value='"+grp.JobGrpCd+"'>"+grp.JobGrpNm+"</option>";
                        })
                        html += "</select>";
                        $(".input.jobgrp").find("em1").append(html);
                    }else{
                        console.log("no-data");
                    }
                },
                error: function(e){
                    alert("fail "+e.responseText);
                }
            });
        }

        // 직무 생성
        var jobGrp2 = function (empl_typ_cd,up_job_grp_cd) {
            $.ajax({
                type: "POST",
                url: "/common/jobgrp",
                data:{
                    empl_typ_cd : empl_typ_cd,
                    up_job_grp_cd : up_job_grp_cd
                },
                dataType: "json",
                success: function(args){
                    if(args.RtnJobGrpListData.length > 0){
                        $(".input.jobgrp").find("em2").children().remove();
                        var html = "";
                        html += "<select name=\"job_grp_cd\" id=\"job_grp_cd\">";
                        html += "<option value=\"\" disabled selected>직무를 선택해주세요.</option>";
                        $.each(args.RtnJobGrpListData,function(e) {
                            var grp1 = args.RtnJobGrpListData[e];
                            html += "<option value='"+grp1.JobGrpCd+"'>"+grp1.JobGrpNm+"</option>";
                        })
                        html += "</select>";
                        $(".input.jobgrp").find("em2").append(html);
                    }else{
                        console.log("no-data");
                        var html = "";
                        html += "<select name=\"job_grp_cd\" id=\"job_grp_cd\">";
                        html += "<option value=\"\" disabled selected>직무를 선택해주세요.</option>";
                        html += "</select>";
                        $(".input.jobgrp").find("em2").append(html);                    }
                },
                error: function(e){
                    alert("fail "+e.responseText);
                }
            });
        }

        // 성별 체크
        $(document).off("click","input:radio[name='gender']").on("click","input:radio[name='gender']",function(e) {
            var gender = $(":radio[name='gender']:checked").val();
            $("#sex").val(gender);
        });  

        // 답변제한 체크
        $(document).off("click","input:radio[name='ans_lmt_tm']").on("click","input:radio[name='ans_lmt_tm']",function(e) {
            var ans_lmt_tm_cd = $(":radio[name='ans_lmt_tm']:checked").val();
            $("#ans_lmt_tm_cd").val(ans_lmt_tm_cd);
        });  

        // 접수기간 체크
        $(document).off("click","input:radio[name='acpt_prid']").on("click","input:radio[name='acpt_prid']",function(e) {
            var acpt_prid_cd = $(":radio[name='acpt_prid']:checked").val();
            $("#acpt_prid_cd").val(acpt_prid_cd);
        });  
   
        // 영상 최대 촬영시간 선택
        $(document).off("click","input:radio[name='rec_max_tm']").on("click","input:radio[name='rec_max_tm']",function(e) {
            var rec_max_tm = $(":radio[name='rec_max_tm']:checked").val();
            $("#rec_max_tm_sec").val(rec_max_tm);
        });  

        // 공고 제목 글자수 체크
        $(document).on("keyup","#recrut_title",function(){
            textLenCheck(this, 30, "#byteTitle");
        }); 

        // 역할 글자수 체크
        $(document).on("keyup","#rol",function(){
            textLenCheck(this, 500, "#byteRol");
        });   

        // 자격 및 우대사항 글자수 체크
        $(document).on("keyup","#aply_qufct",function(){
            textLenCheck(this, 500, "#byteQufct");
        });         

        // 진행 메세지 글자수 체크
        $(document).on("keyup","#prgs_msg",function(){
            textLenCheck(this, 100, "#bytePrgs");
        });        
        
        // 질문 글자수 체크
        $(document).on("keyup","#qst_title1",function(){
            textLenCheck(this, 50, "#byteQstSn1");
        });         
        $(document).on("keyup","#qst_title2",function(){
            textLenCheck(this, 50, "#byteQstSn2");
        });         
        $(document).on("keyup","#qst_title3",function(){
            textLenCheck(this, 50, "#byteQstSn3");
        });         
        $(document).on("keyup","#qst_title4",function(){
            textLenCheck(this, 50, "#byteQstSn4");
        });         
        $(document).on("keyup","#qst_title5",function(){
            textLenCheck(this, 50, "#byteQstSn5");
        });         

        //숫자만 입력가능
        $("input:text[numberOnly]").on("focus", function() {
            var x = $(this).val();
        }).on("focusout", function() {
            var x = $(this).val();
            if(x && x.length > 0) {
                if(!$.isNumeric(x)) {
                    x = x.replace(/[^0-9]/g,"");
                }
                $(this).val(x);
            }
        }).on("keyup", function() {
            $(this).val($(this).val().replace(/[^0-9]/g,""));
        });

    </script>   

{{end}} 